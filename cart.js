import{L as s,r as e,h as a,u as d,f as n,a as u,g as i}from"./assets/handlers-0ih5vYhN.js";import{i as m}from"./assets/vendor-4yCzdkXl.js";const o=s.getKeys().filter(t=>t.qty);async function p(){const t={total:0,sum:0};d(),t.products=await l(),t.total=t.products.length,t.sum=t.products.reduce((r,c)=>r+c.price,0),n(t.total,t.sum.toFixed(2)),u(t,1)}async function l(){const t=o.map(r=>i(r.productId));try{return await Promise.all(t)}catch(r){return console.error(r),[]}}function f(){m.info({message:"Successful purchase of products",position:"bottomCenter",timeout:2e3}),o.forEach(t=>{s.add(t.productId,t.wish,0)})}e.orderSummary.querySelector(".cart-summary__btn").addEventListener("click",f);e.products.addEventListener("click",a.productCard);e.searchForm.addEventListener("submit",a.searchProduct);e.searchForm.addEventListener("click",a.searchClear);window.addEventListener("DOMContentLoaded",p);
//# sourceMappingURL=cart.js.map

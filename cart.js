import{L as o,r as a,h as s,u as d,f as n,a as u,g as i,i as m}from"./assets/handlers-0k0SRVgk.js";import{i as l}from"./assets/vendor-4yCzdkXl.js";let e=o.getKeys().filter(r=>r.qty);async function p(){const r={total:0,sum:0};d(),r.products=await f(),r.total=r.products.length,r.sum=r.products.reduce((t,c)=>t+c.price,0),n(r.total,r.sum.toFixed(2)),u(r,1,null,"cart")}async function f(){const r=e.map(t=>i(t.productId));try{return await Promise.all(r)}catch(t){return console.error(t),[]}}function h(){e.length&&(l.info({message:"Successful purchase of products",position:"bottomCenter",timeout:2e3}),e.forEach(r=>{o.remove(r.productId),m(),e=[]}))}a.orderSummary.querySelector(".cart-summary__btn").addEventListener("click",h);a.products.addEventListener("click",s.productCard);a.searchForm.addEventListener("submit",s.searchProduct);a.searchForm.addEventListener("click",s.searchClear);window.addEventListener("DOMContentLoaded",p);
//# sourceMappingURL=cart.js.map
